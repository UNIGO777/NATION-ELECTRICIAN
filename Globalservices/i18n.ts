import AsyncStorage from '@react-native-async-storage/async-storage';
import { create } from 'zustand';

export type AppLanguage = 'en' | 'mr';

const LANGUAGE_KEY = 'appLanguage';

const translations: Record<AppLanguage, Record<string, string>> = {
  en: {
    language: 'Language',
    selectLanguage: 'Select language',
    english: 'English',
    marathi: 'Marathi',
    continue: 'Continue',
    cancel: 'Cancel',
    camera: 'Camera',
    gallery: 'Gallery',
    close: 'Close',
    ok: 'OK',
    loading: 'Loading...',
    home: 'Home',
    rewards: 'Rewards',
    profile: 'Profile',
    logout: 'Logout',
    mobile: 'Mobile',
    role: 'Role',
    user: 'User',
    schemes: 'Schemes',
    requests: 'Requests',
    admin: 'Admin',
    actions: 'Actions',

    accountBlockedTitle: 'Account Blocked',
    accountBlockedBody: 'Your account has been blocked. Contact admin for assistance.',
    modalTitle: 'Modal',

    dashboard: 'Dashboard',
    upload: 'Upload',
    products: 'Products',
    gifts: 'Gifts',
    latestUpdates: 'Latest Updates',
    recentActivity: 'Recent Activity',
    refresh: 'Refresh',
    loadMore: 'Load more',

    uploadBill: 'Upload Bill',
    billImages: 'Bill Images',
    selectedCount: '{{count}} selected',
    selectImages: 'Select Images',
    customerName: 'Customer Name',
    billNumber: 'Bill Number',
    totalAmount: 'Total Amount',

    permissionRequired: 'Permission required',
    allowPhotoAccessBills: 'Allow photo access to select bill images.',
    allowCameraAccessBill: 'Allow camera access to take a bill photo.',
    limitReached: 'Limit reached',
    billImagesLimit: 'You can upload up to 10 bill images.',
    addBillImagesTitle: 'Add bill images',
    addBillImagesBody: 'Choose an option',
    billImagesRequiredTitle: 'Bill images required',
    billImagesRequiredBody: 'Please select at least 1 bill image.',

    uploaded: 'Uploaded',
    uploadFailed: 'Upload failed',
    billUploadedSuccess: 'Your bill was uploaded successfully.',
    billUploadFailed: 'Unable to upload bill right now. Please try again later.',
    billUploadedTitle: 'Bill Uploaded',
    notLoggedInTitle: 'Not logged in',
    pleaseLoginFirst: 'Please login first.',
    billNumberRequiredTitle: 'Bill number required',
    billNumberRequiredBody: 'Please enter bill number.',
    customerNameRequiredTitle: 'Customer name required',
    customerNameRequiredBody: 'Please enter customer name.',
    totalAmountRequiredTitle: 'Total amount required',
    totalAmountRequiredBody: 'Please enter valid total amount.',
    noUpdatesYet: 'No updates yet',
    noActivityYet: 'No activity yet',
    welcomeEarnCoins: 'Welcome! To earn coins upload bills and wait for admin response.',
    activity: 'Activity',
    coinsWord: 'coins',
    tx: 'Tx',

    productsSubtitle: 'Tap any product for details',
    noProductsYet: 'No products yet',
    checkAgainLater: 'Please check again later.',
    unableLoadProducts: 'Unable to load products right now.',

    rewardsSubtitle: 'Request a scheme using your coins',
    yourCoins: 'Your Coins',
    unableLoadSchemes: 'Unable to load schemes right now.',
    requiredCoins: 'Required Coins',
    eligible: 'ELIGIBLE',
    notEnoughCoinsBadge: 'NOT ENOUGH COINS',
    noSchemesYet: 'No schemes yet',
    rewardItems: 'Reward Items',
    noRewardItems: 'No reward items.',
    requesting: 'Requesting...',
    alreadyRequestedButton: 'Already Requested',
    requestScheme: 'Request Scheme',
    notEnoughCoinsButton: 'Not Enough Coins',

    search: 'Search',
    productsAndSchemes: 'Products and Schemes',
    searchProducts: 'Search products...',
    searchSchemes: 'Search schemes...',
    noResults: 'No results',
    tryDifferentKeyword: 'Try a different keyword.',
    unableLoadSearchData: 'Unable to load search data right now.',
    loginRequiredTitle: 'Login required',
    loginRequiredBody: 'Please login to request a scheme.',
    invalidSchemeTitle: 'Invalid scheme',
    invalidSchemeBody: 'This scheme is missing required coins.',
    notEnoughCoinsTitle: 'Not enough coins',
    needCoinsToRequest: 'You need {{count}} coins to request this scheme.',
    alreadyRequestedTitle: 'Already requested',
    alreadyRequestedBody: 'Your request is already submitted.',
    requestedTitle: 'Requested',
    requestedBody: 'Your scheme request has been submitted.',
    walletNotFoundTitle: 'Wallet not found',
    walletNotFoundBody: 'Your wallet could not be found. Please try again later.',
    failedTitle: 'Failed',
    requestSchemeFailed: 'Unable to request scheme right now.',

    totalCoins: 'Total Coins',
    uidLabel: 'UID: {{uid}}',

    overview: 'Overview',
    users: 'Users',
    schemeRequests: 'Scheme Requests',
    bills: 'Bills',
    addUser: 'Add User',
    addProduct: 'Add Product',
    posters: 'Posters',
    uploadPoster: 'Upload Poster',
    uploadedPosterSuccess: 'Poster uploaded successfully.',
    posterRequired: 'Poster required',
    selectPosterImage: 'Please select a poster image.',
    uploadFailedTryAgain: 'Unable to upload poster right now. Please try again.',
    deletePosterTitle: 'Delete poster',
    deletePosterBody: 'Are you sure you want to delete this poster?',
    delete: 'Delete',
    save: 'Save',

    add: 'Add',
    edit: 'Edit',
    quickActions: 'Quick Actions',
    existingPosters: 'Existing Posters',
    noPostersYet: 'No posters yet',
    selectImage: 'Select Image',
    selectImageLower: 'Select image',
    failedToLoadCounts: 'Failed to load counts',
    adminSearchProducts: 'Search products',
    allowPhotoAccessPoster: 'Allow photo access to select poster image.',
    allowPhotoAccessProductImage: 'Allow photo access to select product image.',
    allowPhotoAccessSchemePoster: 'Allow photo access to select scheme poster.',

    nameRequiredTitle: 'Name required',
    nameRequiredBody: 'Please enter product name.',
    priceRequiredTitle: 'Price required',
    priceRequiredBody: 'Please enter valid product price.',
    imageRequiredTitle: 'Image required',
    imageRequiredBody: 'Please select product image.',
    productIdMissing: 'Product id missing.',
    unableSaveProduct: 'Unable to save product right now.',
    deleteProductTitle: 'Delete product?',
    cannotUndo: 'This action cannot be undone.',
    unableDeleteProduct: 'Unable to delete product right now.',
    noMatchingProducts: 'No matching products',
    tryDifferentSearch: 'Try a different search.',
    tapAddFirstProduct: 'Tap Add to upload your first product.',
    manageProductsSubtitle: 'Upload, edit and manage products',
    productImage: 'Product Image',
    productNameLabel: 'Name',
    productNamePlaceholder: 'Product name',
    priceLabel: 'Price',
    descriptionLabel: 'Description',
    optional: 'Optional',
    creating: 'Creating...',
    updating: 'Updating...',
    createProduct: 'Create Product',
    updateProduct: 'Update Product',
    editProduct: 'Edit Product',

    title: 'Title',
    titleRequiredTitle: 'Title required',
    titleRequiredBody: 'Please enter scheme title.',
    requiredCoinsTitle: 'Required coins',
    requiredCoinsBody: 'Please enter valid required coins.',
    rewardItemsTitle: 'Reward items',
    rewardItemNameRequiredBody: 'Please enter reward item name.',
    rewardItemPriceInvalid: 'Please enter valid price for \"{{name}}\".',
    addAtLeastOneRewardItem: 'Please add at least one reward item.',
    schemePosterRequiredBody: 'Please select scheme poster.',
    schemeIdMissing: 'Scheme id missing.',
    unableSaveScheme: 'Unable to save scheme right now.',
    deleteSchemeTitle: 'Delete scheme?',
    unableDeleteScheme: 'Unable to delete scheme right now.',
    addScheme: 'Add Scheme',
    editScheme: 'Edit Scheme',
    createScheme: 'Create Scheme',
    updateScheme: 'Update Scheme',
    noSchemesSubtitle: 'Tap Add to create your first scheme.',
    schemeModalSubtitle: 'Add poster, reward items and required coins',
    poster: 'Poster',
    selectPoster: 'Select poster',
    schemeTitlePlaceholder: 'Scheme title',
    addItem: 'Add Item',
    rewardNamePlaceholder: 'Name',
    rewardPricePlaceholder: 'Price',

    unableLoadSchemeRequests: 'Unable to load scheme requests right now.',
    viewAllRequestsSubtitle: 'View all requests from users',
    pending: 'Pending',
    approved: 'Approved',
    rejected: 'Rejected',
    all: 'All',
    noRequests: 'No requests',
    nothingToShowForFilter: 'Nothing to show for this filter.',
    requestDetails: 'Request Details',
    requestId: 'Request ID',
    userUid: 'User UID',
    viewUserDetails: 'View User Details',
    scheme: 'Scheme',
    status: 'Status',
    created: 'Created',
    alreadyDecidedTitle: 'Already decided',
    alreadyDecidedBody: 'This request is already decided.',
    userUidMissing: 'User uid missing.',
    pleaseWait: 'Please wait...',
    approve: 'Approve',
    reject: 'Reject',

    unableLoadBills: 'Unable to load bills right now.',
    pendingTotalLine: 'Pending: {{pending}} • Total: {{total}}',
    noBillsFound: 'No bills found',
    billNoLabel: 'Bill No: {{billNo}}',
    customerLabel: 'Customer: {{name}}',
    amountLabel: 'Amount: {{amount}}',
    imagesLabel: 'Images: {{count}}',
    createdLabel: 'Created: {{date}}',
    approveBillTitle: 'Approve Bill',
    billIdLabel: 'Bill ID: {{id}}',
    coinsToGive: 'Coins to give',
    saving: 'Saving...',
    thisBillAlreadyDecided: 'This bill is already decided.',
    billNotFound: 'Bill not found.',
    pleaseEnterValidCoins: 'Please enter valid coins amount.',
    unableUpdateWallet: 'Unable to update wallet right now.',
    unablePushDecisionNotification: 'Unable to push decision notification right now.',
    unableRejectBill: 'Unable to reject this bill right now.',
    unableApproveBill: 'Unable to approve this bill right now.',

    usersManageSubtitle: 'Manage users (10 per page)',
    new: 'New',
    onlyAdminCanViewUsers: 'Only admin can view and create users.',
    noMoreUsers: 'No more users',
    notAuthorized: 'Not authorized.',
    notAllowedTitle: 'Not allowed',
    cannotBlockOwnAccount: 'You cannot block your own account.',
    blockUserTitle: 'Block user?',
    unblockUserTitle: 'Unblock user?',
    blockUserBody: 'This user will not be able to sign in.',
    unblockUserBody: 'This user will be able to sign in again.',
    block: 'Block',
    unblock: 'Unblock',
    failedToLoadUsers: 'Failed to load users',
    failedToUpdateUser: 'Failed to update user',
    walletUpdatedTitle: 'Wallet updated',
    walletUpdatedBody: 'Deducted {{deducted}} coins.\\nNew balance: {{balance}} coins.',
    enterValidCoinsAmount: 'Enter a valid coins amount.',
    failedToLoadWallet: 'Failed to load wallet',
    failedToUpdateWallet: 'Failed to update wallet',
    deductCoins: 'Deduct Coins',
    currentCoins: 'Current Coins',
    coinsToDeduct: 'Coins to deduct',
    reasonOptional: 'Reason (optional)',
    reason: 'Reason',
    exampleCoinsAmount: 'e.g. 50',

    createUser: 'Create User',
    editUser: 'Edit User',
    updateUser: 'Update User',
    createAdmin: 'Create Admin',
    updatesUserDocument: 'Updates User document',
    createsAuthAccountUserDocument: 'Creates Auth account + User document',
    failedToCreateUser: 'Failed to create user',
    userIdMissing: 'User id is missing.',
    fullName: 'Full Name',
    fullNamePlaceholder: 'Full name',
    mobileNumber: 'Mobile Number',
    mobileNumberPlaceholder: 'Mobile number',
    passwordCannotEdit: 'Password cannot be edited here',
    download: 'Download',
    billProfile: 'Bill Profile',
    userProfile: 'User Profile',
    userDetails: 'User Details',
    userIdLabel: 'User ID: {{id}}',
    noData: 'No data',
    unableLoadUser: 'Unable to load user right now.',
    userNotFound: 'User not found.',
    unableLoadBill: 'Unable to load bill right now.',
    images: 'Images',
    countLabel: 'Count: {{count}}',
    noImages: 'No images',
    statusLabel: 'Status',
    userUidLabel: 'User UID: {{uid}}',
    viewUser: 'View User',
    billNumberLabel: 'Bill Number: {{billNumber}}',
    customerNameLabel: 'Customer Name: {{name}}',
    updated: 'Updated',
    approvedCoins: 'Approved Coins: {{coins}}',
    unableUpdateRequest: 'Unable to update request right now.',
    adminNavbarBillsSubtitle: 'Manage all invoices',
    adminNavbarUsersSubtitle: 'User management',
    adminNavbarProductsSubtitle: 'Manage products',
    adminNavbarSchemesSubtitle: 'Manage schemes',
    adminNavbarDashboardSubtitle: 'Overview & statistics',

    login: 'Login',
    email: 'Email',
    password: 'Password',
    loggingIn: 'Logging in...',
    contactAdminAccess: 'Contact admin for access',
  },
  mr: {
    language: 'भाषा',
    selectLanguage: 'भाषा निवडा',
    english: 'इंग्रजी',
    marathi: 'मराठी',
    continue: 'पुढे',
    cancel: 'रद्द करा',
    camera: 'कॅमेरा',
    gallery: 'गॅलरी',
    close: 'बंद करा',
    ok: 'ठीक आहे',
    loading: 'लोड होत आहे...',
    home: 'होम',
    rewards: 'रिवॉर्ड्स',
    profile: 'प्रोफाइल',
    logout: 'लॉगआउट',
    mobile: 'मोबाईल',
    role: 'भूमिका',
    user: 'वापरकर्ता',
    schemes: 'योजना',
    requests: 'विनंत्या',
    admin: 'अॅडमिन',
    actions: 'कृती',

    accountBlockedTitle: 'खाते ब्लॉक केले',
    accountBlockedBody: 'तुमचे खाते ब्लॉक केले आहे. मदतीसाठी अॅडमिनशी संपर्क करा.',
    modalTitle: 'मोडल',

    dashboard: 'डॅशबोर्ड',
    upload: 'अपलोड',
    products: 'उत्पादने',
    gifts: 'गिफ्ट्स',
    latestUpdates: 'ताज्या अपडेट्स',
    recentActivity: 'अलीकडील क्रियाकलाप',
    refresh: 'रीफ्रेश',
    loadMore: 'आणखी लोड करा',

    uploadBill: 'बिल अपलोड करा',
    billImages: 'बिल प्रतिमा',
    selectedCount: '{{count}} निवडले',
    selectImages: 'प्रतिमा निवडा',
    customerName: 'ग्राहक नाव',
    billNumber: 'बिल क्रमांक',
    totalAmount: 'एकूण रक्कम',

    permissionRequired: 'परवानगी आवश्यक',
    allowPhotoAccessBills: 'बिल प्रतिमा निवडण्यासाठी फोटो परवानगी द्या.',
    allowCameraAccessBill: 'बिल फोटो काढण्यासाठी कॅमेरा परवानगी द्या.',
    limitReached: 'मर्यादा पूर्ण',
    billImagesLimit: 'तुम्ही जास्तीत जास्त 10 बिल प्रतिमा अपलोड करू शकता.',
    addBillImagesTitle: 'बिल प्रतिमा जोडा',
    addBillImagesBody: 'पर्याय निवडा',
    billImagesRequiredTitle: 'बिल प्रतिमा आवश्यक',
    billImagesRequiredBody: 'कृपया किमान 1 बिल प्रतिमा निवडा.',

    uploaded: 'अपलोड झाले',
    uploadFailed: 'अपलोड अयशस्वी',
    billUploadedSuccess: 'तुमचे बिल यशस्वीपणे अपलोड झाले.',
    billUploadFailed: 'आत्ता बिल अपलोड होत नाही. कृपया नंतर प्रयत्न करा.',
    billUploadedTitle: 'बिल अपलोड झाले',
    notLoggedInTitle: 'लॉगिन नाही',
    pleaseLoginFirst: 'कृपया आधी लॉगिन करा.',
    billNumberRequiredTitle: 'बिल क्रमांक आवश्यक',
    billNumberRequiredBody: 'कृपया बिल क्रमांक भरा.',
    customerNameRequiredTitle: 'ग्राहक नाव आवश्यक',
    customerNameRequiredBody: 'कृपया ग्राहक नाव भरा.',
    totalAmountRequiredTitle: 'एकूण रक्कम आवश्यक',
    totalAmountRequiredBody: 'कृपया वैध एकूण रक्कम भरा.',
    noUpdatesYet: 'अजून अपडेट्स नाहीत',
    noActivityYet: 'अजून क्रियाकलाप नाहीत',
    welcomeEarnCoins: 'स्वागत आहे! नाणी मिळवण्यासाठी बिल अपलोड करा आणि अॅडमिन प्रतिसादाची वाट पहा.',
    activity: 'क्रियाकलाप',
    coinsWord: 'नाणी',
    tx: 'Tx',

    productsSubtitle: 'तपशील पाहण्यासाठी कोणतेही उत्पादन टॅप करा',
    noProductsYet: 'अजून उत्पादने नाहीत',
    checkAgainLater: 'कृपया नंतर पुन्हा तपासा.',
    unableLoadProducts: 'आत्ता उत्पादने लोड होत नाहीत.',

    rewardsSubtitle: 'तुमच्या नाण्यांमधून योजना विनंती करा',
    yourCoins: 'तुमची नाणी',
    unableLoadSchemes: 'आत्ता योजना लोड होत नाहीत.',
    requiredCoins: 'आवश्यक नाणी',
    eligible: 'पात्र',
    notEnoughCoinsBadge: 'पुरेशी नाणी नाहीत',
    noSchemesYet: 'अजून योजना नाहीत',
    rewardItems: 'रिवॉर्ड आयटम्स',
    noRewardItems: 'रिवॉर्ड आयटम्स नाहीत.',
    requesting: 'विनंती होत आहे...',
    alreadyRequestedButton: 'आधीच विनंती केली',
    requestScheme: 'योजना विनंती करा',
    notEnoughCoinsButton: 'पुरेशी नाणी नाहीत',

    search: 'शोधा',
    productsAndSchemes: 'उत्पादने आणि योजना',
    searchProducts: 'उत्पादने शोधा...',
    searchSchemes: 'योजना शोधा...',
    noResults: 'निकाल नाहीत',
    tryDifferentKeyword: 'दुसरा शब्द वापरून पाहा.',
    unableLoadSearchData: 'आत्ता शोध डेटा लोड होत नाही.',
    loginRequiredTitle: 'लॉगिन आवश्यक',
    loginRequiredBody: 'योजना विनंती करण्यासाठी कृपया लॉगिन करा.',
    invalidSchemeTitle: 'अवैध योजना',
    invalidSchemeBody: 'या योजनेत आवश्यक नाणी नाहीत.',
    notEnoughCoinsTitle: 'पुरेशी नाणी नाहीत',
    needCoinsToRequest: 'ही योजना विनंती करण्यासाठी {{count}} नाणी आवश्यक आहेत.',
    alreadyRequestedTitle: 'आधीच विनंती केली',
    alreadyRequestedBody: 'तुमची विनंती आधीच सबमिट झाली आहे.',
    requestedTitle: 'विनंती केली',
    requestedBody: 'तुमची योजना विनंती सबमिट झाली आहे.',
    walletNotFoundTitle: 'वॉलेट सापडले नाही',
    walletNotFoundBody: 'तुमचे वॉलेट सापडले नाही. कृपया नंतर प्रयत्न करा.',
    failedTitle: 'अयशस्वी',
    requestSchemeFailed: 'आत्ता योजना विनंती होत नाही.',

    totalCoins: 'एकूण नाणी',
    uidLabel: 'UID: {{uid}}',

    overview: 'ओव्हरव्ह्यू',
    users: 'वापरकर्ते',
    schemeRequests: 'योजना विनंत्या',
    bills: 'बिले',
    addUser: 'वापरकर्ता जोडा',
    addProduct: 'उत्पादन जोडा',
    posters: 'पोस्टर्स',
    uploadPoster: 'पोस्टर अपलोड',
    uploadedPosterSuccess: 'पोस्टर यशस्वीपणे अपलोड झाला.',
    posterRequired: 'पोस्टर आवश्यक',
    selectPosterImage: 'कृपया पोस्टर प्रतिमा निवडा.',
    uploadFailedTryAgain: 'आत्ता पोस्टर अपलोड होत नाही. कृपया नंतर प्रयत्न करा.',
    deletePosterTitle: 'पोस्टर हटवा',
    deletePosterBody: 'तुम्हाला हा पोस्टर नक्की हटवायचा आहे का?',
    delete: 'हटवा',
    save: 'सेव्ह',

    add: 'जोडा',
    edit: 'संपादन',
    quickActions: 'त्वरित क्रिया',
    existingPosters: 'अस्तित्वातील पोस्टर्स',
    noPostersYet: 'अजून पोस्टर्स नाहीत',
    selectImage: 'प्रतिमा निवडा',
    selectImageLower: 'प्रतिमा निवडा',
    failedToLoadCounts: 'मोजणी लोड होत नाही',
    adminSearchProducts: 'उत्पादने शोधा',
    allowPhotoAccessPoster: 'पोस्टर प्रतिमा निवडण्यासाठी फोटो परवानगी द्या.',
    allowPhotoAccessProductImage: 'उत्पादन प्रतिमा निवडण्यासाठी फोटो परवानगी द्या.',
    allowPhotoAccessSchemePoster: 'योजनेचा पोस्टर निवडण्यासाठी फोटो परवानगी द्या.',

    nameRequiredTitle: 'नाव आवश्यक',
    nameRequiredBody: 'कृपया उत्पादनाचे नाव भरा.',
    priceRequiredTitle: 'किंमत आवश्यक',
    priceRequiredBody: 'कृपया वैध उत्पादन किंमत भरा.',
    imageRequiredTitle: 'प्रतिमा आवश्यक',
    imageRequiredBody: 'कृपया उत्पादन प्रतिमा निवडा.',
    productIdMissing: 'उत्पादन आयडी उपलब्ध नाही.',
    unableSaveProduct: 'आत्ता उत्पादन सेव्ह होत नाही.',
    deleteProductTitle: 'उत्पादन हटवायचे?',
    cannotUndo: 'ही कृती पूर्ववत करता येणार नाही.',
    unableDeleteProduct: 'आत्ता उत्पादन हटवत नाही.',
    noMatchingProducts: 'जुळणारी उत्पादने नाहीत',
    tryDifferentSearch: 'दुसरा शोध करून पाहा.',
    tapAddFirstProduct: 'पहिले उत्पादन अपलोड करण्यासाठी जोडावर टॅप करा.',
    manageProductsSubtitle: 'उत्पादने अपलोड, संपादन आणि व्यवस्थापन',
    productImage: 'उत्पादन प्रतिमा',
    productNameLabel: 'नाव',
    productNamePlaceholder: 'उत्पादन नाव',
    priceLabel: 'किंमत',
    descriptionLabel: 'वर्णन',
    optional: 'ऐच्छिक',
    creating: 'तयार होत आहे...',
    updating: 'अपडेट होत आहे...',
    createProduct: 'उत्पादन तयार करा',
    updateProduct: 'उत्पादन अपडेट करा',
    editProduct: 'उत्पादन संपादन',

    title: 'शीर्षक',
    titleRequiredTitle: 'शीर्षक आवश्यक',
    titleRequiredBody: 'कृपया योजनेचे शीर्षक भरा.',
    requiredCoinsTitle: 'आवश्यक नाणी',
    requiredCoinsBody: 'कृपया वैध आवश्यक नाणी भरा.',
    rewardItemsTitle: 'रिवॉर्ड आयटम्स',
    rewardItemNameRequiredBody: 'कृपया रिवॉर्ड आयटमचे नाव भरा.',
    rewardItemPriceInvalid: '\"{{name}}\" साठी वैध किंमत भरा.',
    addAtLeastOneRewardItem: 'किमान एक रिवॉर्ड आयटम जोडा.',
    schemePosterRequiredBody: 'कृपया योजनेचा पोस्टर निवडा.',
    schemeIdMissing: 'योजना आयडी उपलब्ध नाही.',
    unableSaveScheme: 'आत्ता योजना सेव्ह होत नाही.',
    deleteSchemeTitle: 'योजना हटवायची?',
    unableDeleteScheme: 'आत्ता योजना हटवत नाही.',
    addScheme: 'योजना जोडा',
    editScheme: 'योजना संपादन',
    createScheme: 'योजना तयार करा',
    updateScheme: 'योजना अपडेट करा',
    noSchemesSubtitle: 'पहिली योजना तयार करण्यासाठी जोडावर टॅप करा.',
    schemeModalSubtitle: 'पोस्टर, रिवॉर्ड आयटम्स आणि आवश्यक नाणी जोडा',
    poster: 'पोस्टर',
    selectPoster: 'पोस्टर निवडा',
    schemeTitlePlaceholder: 'योजनेचे शीर्षक',
    addItem: 'आयटम जोडा',
    rewardNamePlaceholder: 'नाव',
    rewardPricePlaceholder: 'किंमत',

    unableLoadSchemeRequests: 'आत्ता योजना विनंत्या लोड होत नाहीत.',
    viewAllRequestsSubtitle: 'वापरकर्त्यांच्या सर्व विनंत्या पाहा',
    pending: 'प्रलंबित',
    approved: 'मंजूर',
    rejected: 'नाकारले',
    all: 'सर्व',
    noRequests: 'विनंत्या नाहीत',
    nothingToShowForFilter: 'या फिल्टरसाठी काहीही नाही.',
    requestDetails: 'विनंती तपशील',
    requestId: 'विनंती आयडी',
    userUid: 'वापरकर्ता UID',
    viewUserDetails: 'वापरकर्ता तपशील पहा',
    scheme: 'योजना',
    status: 'स्थिती',
    created: 'तयार केले',
    alreadyDecidedTitle: 'आधीच निर्णय झाला',
    alreadyDecidedBody: 'या विनंतीवर आधीच निर्णय झाला आहे.',
    userUidMissing: 'वापरकर्ता UID उपलब्ध नाही.',
    pleaseWait: 'कृपया थांबा...',
    approve: 'मंजूर',
    reject: 'नकार',

    unableLoadBills: 'आत्ता बिले लोड होत नाहीत.',
    pendingTotalLine: 'प्रलंबित: {{pending}} • एकूण: {{total}}',
    noBillsFound: 'बिले सापडली नाहीत',
    billNoLabel: 'बिल क्रमांक: {{billNo}}',
    customerLabel: 'ग्राहक: {{name}}',
    amountLabel: 'रक्कम: {{amount}}',
    imagesLabel: 'प्रतिमा: {{count}}',
    createdLabel: 'तयार: {{date}}',
    approveBillTitle: 'बिल मंजूर करा',
    billIdLabel: 'बिल आयडी: {{id}}',
    coinsToGive: 'देण्याची नाणी',
    saving: 'सेव्ह होत आहे...',
    thisBillAlreadyDecided: 'या बिलावर आधीच निर्णय झाला आहे.',
    billNotFound: 'बिल सापडले नाही.',
    pleaseEnterValidCoins: 'कृपया वैध नाणी रक्कम भरा.',
    unableUpdateWallet: 'आत्ता वॉलेट अपडेट होत नाही.',
    unablePushDecisionNotification: 'आत्ता निर्णय सूचना पाठवता येत नाही.',
    unableRejectBill: 'आत्ता हे बिल नाकारता येत नाही.',
    unableApproveBill: 'आत्ता हे बिल मंजूर करता येत नाही.',

    usersManageSubtitle: 'वापरकर्ते व्यवस्थापित करा (प्रति पृष्ठ 10)',
    new: 'नवीन',
    onlyAdminCanViewUsers: 'फक्त अॅडमिन वापरकर्ते पाहू आणि तयार करू शकतात.',
    noMoreUsers: 'अजून वापरकर्ते नाहीत',
    notAuthorized: 'परवानगी नाही.',
    notAllowedTitle: 'परवानगी नाही',
    cannotBlockOwnAccount: 'तुम्ही तुमचे स्वतःचे खाते ब्लॉक करू शकत नाही.',
    blockUserTitle: 'वापरकर्ता ब्लॉक करायचा?',
    unblockUserTitle: 'वापरकर्ता अनब्लॉक करायचा?',
    blockUserBody: 'हा वापरकर्ता साइन इन करू शकणार नाही.',
    unblockUserBody: 'हा वापरकर्ता पुन्हा साइन इन करू शकेल.',
    block: 'ब्लॉक',
    unblock: 'अनब्लॉक',
    failedToLoadUsers: 'वापरकर्ते लोड होत नाहीत',
    failedToUpdateUser: 'वापरकर्ता अपडेट होत नाही',
    walletUpdatedTitle: 'वॉलेट अपडेट झाले',
    walletUpdatedBody: 'कपात: {{deducted}} नाणी.\\nनवीन शिल्लक: {{balance}} नाणी.',
    enterValidCoinsAmount: 'कृपया वैध नाणी रक्कम भरा.',
    failedToLoadWallet: 'वॉलेट लोड होत नाही',
    failedToUpdateWallet: 'वॉलेट अपडेट होत नाही',
    deductCoins: 'नाणी कपात करा',
    currentCoins: 'सध्याची नाणी',
    coinsToDeduct: 'कपात करायची नाणी',
    reasonOptional: 'कारण (ऐच्छिक)',
    reason: 'कारण',
    exampleCoinsAmount: 'उदा. 50',

    createUser: 'वापरकर्ता तयार करा',
    editUser: 'वापरकर्ता संपादन',
    updateUser: 'वापरकर्ता अपडेट करा',
    createAdmin: 'अॅडमिन तयार करा',
    updatesUserDocument: 'User दस्तऐवज अपडेट करतो',
    createsAuthAccountUserDocument: 'Auth खाते + User दस्तऐवज तयार करतो',
    failedToCreateUser: 'वापरकर्ता तयार होत नाही',
    userIdMissing: 'वापरकर्ता आयडी उपलब्ध नाही.',
    fullName: 'पूर्ण नाव',
    fullNamePlaceholder: 'पूर्ण नाव',
    mobileNumber: 'मोबाईल क्रमांक',
    mobileNumberPlaceholder: 'मोबाईल क्रमांक',
    passwordCannotEdit: 'पासवर्ड येथे संपादित करू शकत नाही',
    download: 'डाउनलोड',
    billProfile: 'बिल प्रोफाइल',
    userProfile: 'वापरकर्ता प्रोफाइल',
    userDetails: 'वापरकर्ता तपशील',
    userIdLabel: 'वापरकर्ता आयडी: {{id}}',
    noData: 'डेटा नाही',
    unableLoadUser: 'आत्ता वापरकर्ता लोड होत नाही.',
    userNotFound: 'वापरकर्ता सापडला नाही.',
    unableLoadBill: 'आत्ता बिल लोड होत नाही.',
    images: 'प्रतिमा',
    countLabel: 'मोजणी: {{count}}',
    noImages: 'प्रतिमा नाहीत',
    statusLabel: 'स्थिती',
    userUidLabel: 'वापरकर्ता UID: {{uid}}',
    viewUser: 'वापरकर्ता पहा',
    billNumberLabel: 'बिल क्रमांक: {{billNumber}}',
    customerNameLabel: 'ग्राहक नाव: {{name}}',
    updated: 'अपडेट',
    approvedCoins: 'मंजूर नाणी: {{coins}}',
    unableUpdateRequest: 'आत्ता विनंती अपडेट होत नाही.',
    adminNavbarBillsSubtitle: 'सर्व इनव्हॉइस व्यवस्थापित करा',
    adminNavbarUsersSubtitle: 'वापरकर्ता व्यवस्थापन',
    adminNavbarProductsSubtitle: 'उत्पादन व्यवस्थापन',
    adminNavbarSchemesSubtitle: 'योजना व्यवस्थापन',
    adminNavbarDashboardSubtitle: 'ओव्हरव्ह्यू आणि आकडेवारी',

    login: 'लॉगिन',
    email: 'ईमेल',
    password: 'पासवर्ड',
    loggingIn: 'लॉगिन होत आहे...',
    contactAdminAccess: 'अॅक्सेससाठी अॅडमिनशी संपर्क करा',
  },
};

const interpolate = (template: string, params?: Record<string, string | number>): string => {
  if (!params) return template;
  return template.replace(/\{\{\s*(\w+)\s*\}\}/g, (_, key: string) => {
    const val = params[key];
    return typeof val === 'number' || typeof val === 'string' ? String(val) : '';
  });
};

export const tFor = (language: AppLanguage, key: string, params?: Record<string, string | number>): string => {
  const dict = translations[language] ?? translations.en;
  const raw = dict[key] ?? translations.en[key] ?? key;
  return interpolate(raw, params);
};

type I18nState = {
  language: AppLanguage;
  isHydrated: boolean;
  setLanguage: (language: AppLanguage) => Promise<void>;
  hydrate: () => Promise<void>;
};

export const useI18nStore = create<I18nState>(
  (set: (partial: Partial<I18nState>) => void, _get: () => I18nState) => ({
  language: 'en',
  isHydrated: false,
  setLanguage: async (language: AppLanguage) => {
    set({ language });
    await AsyncStorage.setItem(LANGUAGE_KEY, language).catch(() => null);
  },
  hydrate: async () => {
    const raw = await AsyncStorage.getItem(LANGUAGE_KEY).catch(() => null);
    const next: AppLanguage = raw === 'mr' || raw === 'en' ? raw : 'en';
    set({ language: next, isHydrated: true });
  },
  })
);

export const useT = () => {
  const language = useI18nStore((s: I18nState) => s.language);
  return (key: string, params?: Record<string, string | number>) => tFor(language, key, params);
};
